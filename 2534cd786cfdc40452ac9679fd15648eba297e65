{
  "comments": [
    {
      "key": {
        "uuid": "11b45482_d14e56f3",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 192
      },
      "writtenOn": "2021-10-12T07:08:34Z",
      "side": 1,
      "message": "i had to go read about those in the man page (for convenience also there https://linux.die.net/man/8/logrotate)\n\nrotate - number of times the file is rotated before removing\nmaxage - age in days before removing\n\nso if we are rotating daily why do we need maxage as well?",
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83c9e4be_af9134b6",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 673
      },
      "writtenOn": "2021-10-13T11:22:55Z",
      "side": 1,
      "message": "I agree, it rotating on daily basis. So this is to make sure that we are removing old files.",
      "parentUuid": "11b45482_d14e56f3",
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e837094e_c255c8f6",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 673
      },
      "writtenOn": "2021-10-13T11:23:53Z",
      "side": 1,
      "message": "IMHO we are running upstream promoter every 10 mins and it generating lots of log files. i think we should reduce it to 15?",
      "parentUuid": "83c9e4be_af9134b6",
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5002c09e_b33387a7",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 192
      },
      "writtenOn": "2021-10-13T11:35:29Z",
      "side": 1,
      "message": "14:33 \u003c marios\u003e akahat: i think you misunderstood my comment the rotate 60 means that after it is rotated 60    times it will be removed\n\nso why do we need maxage for.\n\nso with logrotate, we will be rotating it daily (first line above line 67 \u0027daily\u0027) so we\u0027ll have a single log file per branch per day from the promoter.\n\nI think 60 is probably too much.\n\nmaybe we only need to keep the last 14 days, so lets use rotate 14 ?",
      "parentUuid": "e837094e_c255c8f6",
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79a0232c_4d2beccd",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 673
      },
      "writtenOn": "2021-10-13T11:45:42Z",
      "side": 1,
      "message": "Okay. got your point. I\u0027ll remove maxage. And set rotate value to 14.",
      "parentUuid": "5002c09e_b33387a7",
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56fc480d_81c82f12",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 192
      },
      "writtenOn": "2021-10-12T07:08:34Z",
      "side": 1,
      "message": "why do we need it",
      "range": {
        "startLine": 86,
        "startChar": 11,
        "endLine": 86,
        "endChar": 17
      },
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e75fd68d_e842b1be",
        "filename": "ci-scripts/infra-setup/roles/promoter/tasks/main.yml",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 673
      },
      "writtenOn": "2021-10-13T11:45:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "56fc480d_81c82f12",
      "range": {
        "startLine": 86,
        "startChar": 11,
        "endLine": 86,
        "endChar": 17
      },
      "revId": "2534cd786cfdc40452ac9679fd15648eba297e65",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}