{
  "comments": [
    {
      "key": {
        "uuid": "fa81d914_f180978d",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "Use the promote_name variable for tagging, maybe add a \"-test\" part to it if you don\u0027t want to screw up stuff, but I would like to see this change already using the proper values, you can test the script with altering it.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_27374db2",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 14,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "Yep, Done.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_31630f1c",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 61,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "Maybe use \"shell: \u003e\" and break this long line into readable portions.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_473c4194",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 61,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "Done",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_9172fbe3",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "Why is this happening twice?",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_6741450b",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "I couldn\u0027t get the ansible plugin to do locally tag an image with a different tag. If you don\u0027t push, then the tag argument is used to search a source image, which doesn\u0027t exist. The previous task adds the tag with the named label to the image, this task pushes the image, and tags it with the named label (promote name)",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_314a2f84",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 95,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "oh no, trailing whitespaces all over. :)",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_87463922",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 95,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "Al those spacing error happened beacuse the review was created directly on the promoter server, which has limited editor capabilities.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_e70295b3",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 95,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-05T14:42:43Z",
      "side": 1,
      "message": "A workaround I sometimes use it to create a dev branch on my work computer, add it as a remote on the dev machine and directly git pull from my laptop on the dev machine. But it\u0027s not ideal.",
      "parentUuid": "fa81d914_87463922",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_d15ab34f",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 121,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "I think you don\u0027t have to care about the tags here. Also you only pulled them down to this registry as full_hash, so you don\u0027t need to care about the named_label stuff here.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_a74a5d25",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 121,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "you do, you can\u0027t remove an image id that is referenced in some tag. To remove the image, you have to remote all the tags first. When the last tag is remove, the images will be too. Also, I pulled only the full_hash, but then tagged them with the named label. This creates to references to the same images.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_c7f591cc",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 8
      },
      "lineNbr": 121,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-05T14:42:43Z",
      "side": 1,
      "message": "Ack. I didn\u0027t really know how tags work in Docker. Thanks for the explanation.",
      "parentUuid": "fa81d914_a74a5d25",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_31186f84",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "Maybe use the same \"pathfinding\" I do for the git execution below?\n\n os.path.abspath(sys.path[0])\n\nThis just prints the directory so at least we don\u0027t hardcode the promoter script\u0027s name. One less thing to worry about.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_87cf19b0",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "I need some hardcoding here. I need to find what is the root of the ci-config repo. abspath gives the full path of the promoter script. From that, I have to remove the relative path of the script after the root of the repo. I don\u0027t kow if there\u0027s a way to get get without hardcoding.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_5404f114",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 117,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "Same as above, try using abspath. Also you don\u0027t have \"relpath\" defined here. It will error out. Try running flake8/pylint before submitting the new patchset. :)",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_a7c33d89",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 117,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "same as above, I need to know the part to remove from the complete script path, to get the root of ci-config repo. Adding relpath",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_b4128d56",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 124,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "tabs",
      "range": {
        "startLine": 124,
        "startChar": 0,
        "endLine": 124,
        "endChar": 14
      },
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_c7c0317f",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 124,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "no automatic expandtab for ft\u003dpython in promoter server\u0027s vim",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_511de372",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 143,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "You\u0027re using a TAB here instead of 8 spaces. Warning, catastrophe imminent. :)\n\nAlso typo: has -\u003e hash.\n\nAlso the logger functions don\u0027t need string substitution with \"%\", just list the arguments as further parameters. It\u0027s documented, it\u0027s how it\u0027s supposed to work. You also don\u0027t need to convert things to string.",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 143,
        "endChar": 1
      },
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_e7bd3504",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 143,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "was a temporary logging line, but I\u0027ll keep it and follow your suggestion",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_b10b7f2a",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 145,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-04T15:38:46Z",
      "side": 1,
      "message": "I\u0027m not sure if we shouldn\u0027t just use the full hash here... We won\u0027t be able to perform reverse searches from the registry as DLRN API needs the full hash (if this is ever needed). It won\u0027t look pretty, but it\u0027s already not pretty anyway.",
      "range": {
        "startLine": 145,
        "startChar": 64,
        "endLine": 145,
        "endChar": 69
      },
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_07bb290f",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 8
      },
      "lineNbr": 145,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-05T10:52:59Z",
      "side": 1,
      "message": "ansible-rdo-kolla-build-role tags containers by default with dlrn_hash (this format). That\u0027s why all the rest of the pipeline have to use this exact format to retrieve containers images from the hash. We could add the full hash to the containers too, but the default format is not going to be changed.",
      "revId": "42a38357d2222cd4e5fbc4ee8d581582fe04818b",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}