{
  "comments": [
    {
      "key": {
        "uuid": "58fc8d05_656b6aa0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-03-19T09:22:49Z",
      "side": 1,
      "message": "thanks for the explanation here it mostly makes sense.\n\nwhat i\u0027m struggling with is relating the code changes to what you\u0027re describing above :D",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75d817ab_0a05d532",
        "filename": "/COMMIT_MSG",
        "patchSetId": 9
      },
      "lineNbr": 32,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Not sure how to simplify taht, I can add some explanation here.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "053edb70_9460463d",
        "filename": "ci-scripts/dlrnapi_promoter/config.py",
        "patchSetId": 9
      },
      "lineNbr": 203,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-03-19T09:22:49Z",
      "side": 1,
      "message": "this is something passed in the command line overriding what is set in promoter/criteria/master.yaml right?\n\nwhy do we need allowed_clients in cli override is it related to the change?",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aaebd8e9_c0f7f489",
        "filename": "ci-scripts/dlrnapi_promoter/config.py",
        "patchSetId": 9
      },
      "lineNbr": 203,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Yes, in the integration tests with dlrn, I override allowed_clients so only dlrn_client will be called for promotion. I did not need it before because I was using a different testing method, but now I needed to narrow the pieces involved.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f8bd1952_a8dc0a25",
        "filename": "ci-scripts/dlrnapi_promoter/dlrn_client.py",
        "patchSetId": 9
      },
      "lineNbr": 446,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "This is actually the core of the fix, here I change the way I generate the path to get the repo file from the repo host. Commit dir is a method in the dlrn_hash itself that returns the relative path of the hash dir inside a repo",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdc47a65_9045406f",
        "filename": "ci-scripts/dlrnapi_promoter/dlrn_hash.py",
        "patchSetId": 9
      },
      "lineNbr": 33,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "The label is used by the aggregate hash commit_dir method to generate the relative path",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c91e2cc_66c92b9d",
        "filename": "ci-scripts/dlrnapi_promoter/dlrn_hash.py",
        "patchSetId": 9
      },
      "lineNbr": 46,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Simpler way to initialize the dict",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da1c00de_a55b8b61",
        "filename": "ci-scripts/dlrnapi_promoter/logic.py",
        "patchSetId": 9
      },
      "lineNbr": 134,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Here I assign the candidate label to the hash, so when it\u0027s time to call commit_dir, it will generate the correct relative path. DOing this generally for all the hashes. If it\u0027s not needed it will n0ot cause any harm",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a7dde7a_6a9656c2",
        "filename": "ci-scripts/dlrnapi_promoter/promoter_integration_checks.py",
        "patchSetId": 9
      },
      "lineNbr": 294,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Adding a pattern to verify that a promotion really happened.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "686a5c7e_d400ab96",
        "filename": "ci-scripts/dlrnapi_promoter/repo_client.py",
        "patchSetId": 9
      },
      "lineNbr": 40,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "version.csv is inside the relative path for the hash, just changing test wrapping here",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f3bdd0da_b35c34fa",
        "filename": "ci-scripts/dlrnapi_promoter/stage_dbdata/integration-pipeline.yaml",
        "patchSetId": 9
      },
      "lineNbr": 130,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Here I list the commit that will appear in the dlrn database, I use the same list to promote the commit in order for the aggregate hash. THis part will simulate a set of commits promoted to tripleo-ci-staging, that will end up not meeting the criteria for promotion to tripleo-ci-staging-promoted, so the workflow will have to scroll down the list of candidate a bit, and aventually find the correct relative path for the hash in the repo.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5a69644_4dc72ea6",
        "filename": "ci-scripts/dlrnapi_promoter/stage_dbdata/integration-pipeline.yaml",
        "patchSetId": 9
      },
      "lineNbr": 205,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "THis map is used to promote the commits above. The last three will be promoted to tripleo-ci-staging, but they will not be candidate for promotion",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "099fa62e_1873a4c7",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_client_unit.py",
        "patchSetId": 9
      },
      "lineNbr": 70,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "I need the hashe to be at least 3-4 chars long so the commit_dir can be created appropriately",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fbc42e9_b5cde19a",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_client_unit.py",
        "patchSetId": 9
      },
      "lineNbr": 147,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "I\u0027m creating a fake dir for the unit test, corresponding to the relative dir for the hash.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b20f939d_ea737846",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_hash_unit.py",
        "patchSetId": 9
      },
      "lineNbr": 150,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "This will test the commit_dir method when no label is passed to the hash",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "054ac54f_d9d0e8f1",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_integration.py",
        "patchSetId": 9
      },
      "lineNbr": 83,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Here I have to narrow the pieces of the promoter involved in the dlrn integration test, to only run dlrn",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19fb82e8_740436e3",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_integration.py",
        "patchSetId": 9
      },
      "lineNbr": 111,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Again this is here to assign candidate_label to the hash label attribute, for the tests",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a26bedb_58c2987c",
        "filename": "ci-scripts/dlrnapi_promoter/test_dlrn_integration.py",
        "patchSetId": 9
      },
      "lineNbr": 175,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "I have changed the testing method here a bit to avail only of the integration checks (less duplication, more testing)",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "956d7b64_27a2fb5e",
        "filename": "ci-scripts/dlrnapi_promoter/test_promoter_functional.py",
        "patchSetId": 9
      },
      "lineNbr": 179,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-03-19T11:01:51Z",
      "side": 1,
      "message": "Same as the other tests, use only integration tests.",
      "revId": "54deb68001785f28c45dfc142c2f4fd4e9823387",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}