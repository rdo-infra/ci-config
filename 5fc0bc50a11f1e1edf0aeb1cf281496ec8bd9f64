{
  "comments": [
    {
      "key": {
        "uuid": "fa81d914_8dcacf9f",
        "filename": "ci-scripts/dlrnapi_promoter/config/pike.ini",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-20T16:11:08Z",
      "side": 1,
      "message": "I this this is a nice naming improvement but using non-alphanumeric characters in sections here and in the requirements makes my spidey sense tingling. I know it is probably supposed to work with any unicode string within the [] but I have to feeling that somehow, somewhere it\u0027s going to cause hard-to-figure-out troubles.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_ad87930e",
        "filename": "ci-scripts/dlrnapi_promoter/config/pike.ini",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-22T23:28:59Z",
      "side": 1,
      "message": "The separator character is arbitrary as the section is treated as a string. I maintained the colon so it\u0027s clear for everyone what the values represents in the option below. I remeber some difficultie in naming this part, I tried to simplify a little. I don\u0027t see anything that would bite us, these are strings, handled only by the python script.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_2de4833a",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-20T16:11:08Z",
      "side": 1,
      "message": "I don\u0027t see advantages for converting this script to object oriented. It\u0027s not a library, we\u0027re not reusing any part of it outside of the script, even within the script the use of OOP is very limited and the improvements it brings (different style of logging) can be solved by the previous state fairly easily as well.\n\nMoreover I made that script intentionally procedural. I think it is nice to keep function and data separate. It adds the convenience of not needing to call functions with 5 arguments, but makes the distinction between data and code \"mushy\" and mixed what accesses and modifies what data.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_6dd59b42",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 1
      },
      "lineNbr": 334,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-20T16:11:08Z",
      "side": 1,
      "message": "I don\u0027t understand why we need this extra check + variable. If we make the requirement for the promotion to have a container job successful, then we don\u0027t have to specifically check for a containers job being there, it\u0027s explicitly going to be there because we\u0027re already promoting.\n\nIf you need the parsed containers list, I\u0027d check/fetch that file in the containers ansible script, not here.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_6d8d9b31",
        "filename": "ci-scripts/dlrnapi_promoter/dlrnapi_promoter.py",
        "patchSetId": 1
      },
      "lineNbr": 334,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-22T23:28:59Z",
      "side": 1,
      "message": "I\u0027m fetching it int the ansible script, but I\u0027m passing the name of the job that contains that list as a configuration variable. Since I need the url, and the delorean reply already contains it, I\u0027m just using the job name in the variable, to get the correct url to pass to the ansible script. I just didn\u0027t want the ansible playbook to repeat a dlrn query we\u0027re already making here.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_0de7bf41",
        "filename": "ci-scripts/promote-images.sh",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-20T16:11:08Z",
      "side": 1,
      "message": "Instead of making more tidy this script that is essentially just 2 lines of sftp command, if we\u0027re really making improvements, I\u0027d pull this functionality in the promoter script and use\n\nhttp://docs.paramiko.org/en/2.3/api/sftp.html\n\nI general I think this script should stay simple as it is. There\u0027s no good reason to manually use this, it\u0027s easier to just fire up SFTP instead and do the commands by hand.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_8d82cffe",
        "filename": "ci-scripts/promote-images.sh",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-22T23:28:59Z",
      "side": 1,
      "message": "The only thing I needed for this script is --dry-run, and I couldn\u0027t do it using only positional parameters. I guess I\u0027ll just pass a DRY_RUN env variable then.",
      "revId": "5fc0bc50a11f1e1edf0aeb1cf281496ec8bd9f64",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}