{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "540b06af_5d4fcb12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 635
      },
      "writtenOn": "2022-01-21T16:30:18Z",
      "side": 1,
      "message": "in Jenkins, I also decreased the number of concurrency pods (i.e slaves) allowed from 15 to 8.",
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "875894e4_8c232fed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 739
      },
      "writtenOn": "2022-01-21T16:51:24Z",
      "side": 1,
      "message": "Thanks",
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27c7f35e_af28234d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 85
      },
      "writtenOn": "2022-01-21T17:05:16Z",
      "side": 1,
      "message": "LGTM, mid-term let\u0027s remove our dependency on cico which is a limited resource",
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aed5c449_f8d61cf7",
        "filename": "jenkins-v2/jobs/scripts/cico-node-get-to-ansible.sh",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 403
      },
      "writtenOn": "2022-01-21T17:17:04Z",
      "side": 1,
      "message": "i think we need to increment retry-interval instead or atleast that else we will have same issue.",
      "range": {
        "startLine": 22,
        "startChar": 129,
        "endLine": 22,
        "endChar": 131
      },
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe19909e_18d1b671",
        "filename": "jenkins-v2/jobs/scripts/cico-node-get-to-ansible.sh",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 635
      },
      "writtenOn": "2022-01-24T09:46:34Z",
      "side": 1,
      "message": "After reading the code [1], I think you\u0027re right. But even if we increase the retry-interval we\u0027ll hit the issue because we have 7 jobs requesting node at the same time. So, I\u0027ll abandon this patch and implement a mechanism to delay starting parallelized sub-jobs (every 5 minutes). That way we\u0027ll be able to have 5 multijobs job running each unlimited sub-jobs where getting CICO node will be done sequentially.\n\n[1] https://github.com/CentOS/duffy/blob/stale/master/duffy/api_v1/views.py#L57",
      "parentUuid": "aed5c449_f8d61cf7",
      "range": {
        "startLine": 22,
        "startChar": 129,
        "endLine": 22,
        "endChar": 131
      },
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3ceb5221_b78ad4af",
        "filename": "jenkins-v2/jobs/scripts/cico-node-get-to-ansible.sh",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 403
      },
      "writtenOn": "2022-01-24T10:00:54Z",
      "side": 1,
      "message": "Since each job is triggered on a seperate slave(cico-workspace-rdo) so requests/sessions for cico node is independent on each slave. So i think this patch with increase of retry-interval should have helped us. So i think let\u0027s try this and monitor on how much it helps.\n\nSince you already reduced concurrent job runs and + having this patch i think we would rarely see the issues in cico node get concedering the past issues.",
      "parentUuid": "fe19909e_18d1b671",
      "range": {
        "startLine": 22,
        "startChar": 129,
        "endLine": 22,
        "endChar": 131
      },
      "revId": "6960477e8753690c965978a0c1b478c0020ed1d7",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}