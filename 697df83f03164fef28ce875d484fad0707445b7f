{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f2bda14e_4a70dc90",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 739
      },
      "writtenOn": "2022-09-06T20:21:51Z",
      "side": 1,
      "message": "jakob, thanks for proposing these improvements. ",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d56ba4bf_5098abc0",
        "filename": "ci-scripts/infra-setup/roles/base/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-09-06T08:18:11Z",
      "side": 1,
      "message": "ok but 5 mins to 1 day is a big difference :) \n\ncant we make it at least every few hours? does it really cost so much to do that?\ni agree every 5 minutes is overkill though.",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "472ece43_13171f4b",
        "filename": "ci-scripts/infra-setup/roles/base/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-09-06T09:31:14Z",
      "side": 1,
      "message": "What do we gain from multiple runs per day?\n\nMost changes we do affect cockpits and for those to take effect we have to manually intervene on these systems anyway. Actually its only system updates (yum/dnf) which we do less often with this change, although \"less often\" still means once a day.\n\nThinking about our different timezones, one day gives us enough time to detect and fix errors. For example, when i apply a breaking change in my afternoon, then you might detected this when i am off already. When i am online again on the next day, I have time to fix this bug before it spreads to all other systems.",
      "parentUuid": "d56ba4bf_5098abc0",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c026df60_9573d150",
        "filename": "ci-scripts/infra-setup/roles/base/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 739
      },
      "writtenOn": "2022-09-06T20:21:51Z",
      "side": 1,
      "message": "I don\u0027t agree with this testing approach. We should test changes in a staging environment.\nIMHO, it is better to have this script running every few hours, so I can easily get a feedback from merged patches, without manually interventions.",
      "parentUuid": "472ece43_13171f4b",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f58dcd99_cc1a6ad9",
        "filename": "ci-scripts/infra-setup/roles/base/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-09-06T22:39:24Z",
      "side": 1,
      "message": "Good change. \nCan we make it to pull every 4 or 6 hours? That\u0027s what was suggested during the review meeting, as a nice middle ground between 5 minutes and 1 day.",
      "parentUuid": "c026df60_9573d150",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6c41362_42950e9b",
        "filename": "ci-scripts/infra-setup/roles/base/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-09-07T07:56:14Z",
      "side": 1,
      "message": "@Douglas: Of course, a staging environment would be the RIGHTâ„¢ way to do it. But unless someone steps up to build a staging environment we are stuck to apply our changes in production ;)\n\n@Dariusz, @Douglas: If you want to get a quick feedback from merged patches, it would be better to keep the interval low. This was the original idea for using 5 minutes. Every change to our infra was supposed to be applied via git. Nobody was supposed to do manual changes to vms etc. For that, 5 minutes is good. With 4-6 hours you would have to wait half of your work day until you get a feedback and then you would have to spent your afternoon or evening with fixing your breakage. So i am strongly against 4-6 hours.\n\nMy idea here was to increase it to one day mainly because:\n\nwe do not have a staging environment\n\u003d\u003e we have to test in production\n\u003d\u003e since we test in production, our changes have already been applied\n\u003d\u003e 24h is enough because only other (probably unrelated) machines are affected and 24h gives us (hopefully) enough time to detect breaking changes before they are rolled out to those other machines\n\nWhen we want to introduce a staging environment, we have to split this logic here anyway: We want our staging environment to receive updates as fast as possible, but our production environment should only be updated once we give it a go.\n\nAnyway, I am fine with sticking to the original idea of passing every change through git/gerrit. So leaving it at 5 minutes minutes is better than changing it to an hour or longer. I will abandon this change for now until our preconditions change aka we have a staging environment ;)",
      "parentUuid": "f58dcd99_cc1a6ad9",
      "revId": "697df83f03164fef28ce875d484fad0707445b7f",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}