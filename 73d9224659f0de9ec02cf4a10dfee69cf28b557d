{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c0ed558d_240fb5f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 671
      },
      "writtenOn": "2022-08-29T12:13:20Z",
      "side": 1,
      "message": "This looks in good shape.(want to take another pass before +2)\n\nA couple of questions and possible future improvements which we can target in follow-up patches.\n\n1. When we compare with upstream job results do we consider branch?\n\n For ex. periodic-tripleo-ci-centos-9-scenario001-standalone-wallaby fails when we compare results with upstream - we search for a job: tripleo-ci-centos-9-scenario001-standalone - do we limit the results to wallaby branch or do we currently check result for all branches?\n\n\n2. We are currently not comparing results for featureset jobs because we don\u0027t run featureset01/20/35/64 jobs in upstream but we can possibly compare them with rdo third party check jobs.\n\nFor ex.\n\nhttps://review.rdoproject.org/zuul/builds?job_name\u003dperiodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-master\u0026skip\u003d0\n\ncan be compared with \n\nhttps://review.rdoproject.org/zuul/builds?job_name\u003dtripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001\u0026branch\u003dmaster\u0026skip\u003d0\n\n\n3. Comparision in downstream jobs will not return anything.\n\nIt may be a good idea to compare with rdo jobs instead.",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62f18283_b74b5c5c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-08-29T18:53:22Z",
      "side": 1,
      "message": "ad 1.\nNo, we don\u0027t. It\u0027s implemented the same way like in the past -- strip \"periodic\" and \"branch\" from job name, and query upstream zuul about results.\nad 2.\nI\u0027m not following what you\u0027re saying Sandeep. Do you mean to switch from upstream zuul to rdo zuul for all? Just for featuresets?\nad 3.\nAgain, I\u0027m not understanding what you mean here. downstream + rdo? downstream + upstream?\n\nCan you clarify it a bit more?\nThanks.",
      "parentUuid": "c0ed558d_240fb5f6",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3734fc8e_62bf3a90",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 671
      },
      "writtenOn": "2022-08-30T06:41:51Z",
      "side": 1,
      "message": "Took another pass, looks good to me. Thanks Dariusz for working on this.",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae4e5cde_262391eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 671
      },
      "writtenOn": "2022-08-30T06:41:51Z",
      "side": 1,
      "message": "ad 1.\nNo, we don\u0027t. It\u0027s implemented the same way as in the past -- strip \"periodic\" and \"branch\" from the job name, and query upstream zuul about results.\n\nAck, thanks, looks like a good candidate for future improvement.\n\nex. when periodic-tripleo-ci-centos-9-scenario002-standalone-master fails, we are currently comparing with the upstream job \"tripleo-ci-centos-9-scenario002-standalone\" for all the branches, it would be good to target a particular branch. (which we are testing in periodic)\n\n\n\u003e\u003e I\u0027m not following what you\u0027re saying Sandeep. Do you mean to switch from upstream zuul to rdo zuul for all? Just for featuresets?\n\nYes, I mean just for ovb featuresets, We can compare periodic ovb jobs with ovb jobs that we run in Third party rdo jobs.\n\nad 3.\nAgain, I\u0027m not understanding what you mean here. downstream + rdo? downstream + upstream?\n\nWhen a rdo periodic job fails we currently compare it with an upstream check job.\n\n\u003e\u003e\u003e upstream_job(\"periodic-tripleo-ci-centos-9-scenario001-standalone-wallaby\")\n\u0027tripleo-ci-centos-9-scenario001-standalone\n\nBut let\u0027s take an example when some downstream job fails, for ex. periodic-tripleo-ci-rhel-9-scenario001-standalone-rhos-17\n\n\u003e\u003e\u003e upstream_job(\"periodic-tripleo-ci-rhel-9-scenario001-standalone-rhos-17\")\n\u0027tripleo-ci-rhel-9-scenario001-standalone-rhos\u0027\n\nBased on the current regex, the upstream job name:- \u0027tripleo-ci-rhel-9-scenario001-standalone-rhos\u0027 which doesn\u0027t exist in Upstream and \"Upstream pass/failure other\" will be always blank. So, currently, the Comparision with Upstream results feature for downstream jobs is not working.\n\nFor the downstream case, I can think of two possible cases:-\n\n1) We enhance our tooling to somehow change from downstream job name to Upstream job name and show results in comparison with Upstream.\n\n2) For downstream jobs, Instead of comparing with Upstream we compare with rdo jobs instead. for ex. 17-1 comparison with wallaby and 16-2 comparison with 16.2\n\n\nAgain, these are some possible future improvements that which team can work on and are not related to this patch.",
      "parentUuid": "62f18283_b74b5c5c",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "473627c2_30a56773",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-08-30T13:41:07Z",
      "side": 1,
      "message": "I added your suggestions to TODO. Thanks.",
      "parentUuid": "3734fc8e_62bf3a90",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e938f5a0_2e77d2c6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 27
      },
      "lineNbr": 0,
      "author": {
        "id": 111
      },
      "writtenOn": "2022-08-31T09:56:58Z",
      "side": 1,
      "message": "Looks good, it also adds following improvements\n┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┓\n┃                                                                               ┃               ┃              ┃               ┃ Upstream     ┃ Upstream      ┃ Upstream     ┃\n┃ Jobs in promotion criteria required to promo the hash:                        ┃ Pass          ┃ Failure      ┃ Others        ┃ Pass         ┃ Failure       ┃ Others       ┃\n┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━┩\n│ periodic-tripleo-ci-centos-9-ovb-1ctlr_1comp-featureset002-master             │ 1             │ 1            │ 3             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-master             │ 0             │ 1            │ 4             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master             │ 0             │ 3            │ 2             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp_1supp-featureset039-master       │ 0             │ 3            │ 2             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp_1supp-featureset064-master       │ 0             │ 4            │ 1             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master               │ 0             │ 2            │ 3             │ -            │ -             │ -            │\n│ periodic-tripleo-ci-centos-9-standalone-full-tempest-scenario-master          │ 0             │ 1            │ 4             │ -            │ -             │ -            │\n└───────────────────────────────────────────────────────────────────────────────┴───────────────┴──────────────┴───────────────┴──────────────┴───────────────┴──────────────┘",
      "revId": "73d9224659f0de9ec02cf4a10dfee69cf28b557d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}