{
  "comments": [
    {
      "key": {
        "uuid": "ba7be1f8_837c6d74",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 28,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-12-07T16:01:58Z",
      "side": 1,
      "message": "I\u0027d like to have all these variables defined at the start, like we do with all the other",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_280560c2",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 123
      },
      "writtenOn": "2017-12-06T19:48:51Z",
      "side": 1,
      "message": "This file is rendered from the j2 template and has conditionals, so it\u0027s possible you\u0027re missing some images.\n\nYou should use overcloud_containers.yaml.j2 instead.\nI\u0027m going to link to my script again http://paste.openstack.org/show/628173/ :)",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_a8f870c5",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 155
      },
      "writtenOn": "2017-12-06T20:20:02Z",
      "side": 1,
      "message": "Yeah, I saw your script :) \nBut I\u0027ve chosen this file intentionally, because it\u0027s final form of generated containers list (what is shown by tripleoclient). If container is not in this list because of conditionals, then we don\u0027t need to handle it, right?",
      "parentUuid": "ba7be1f8_280560c2",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_e848a8ce",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 123
      },
      "writtenOn": "2017-12-07T07:47:21Z",
      "side": 1,
      "message": "Using overcloud_containers.yaml.j2 is the most reliable (it is the unique source of truth for container images) and also the most future proof. We intend to remove the rendered overcloud_containers.yaml file in the very near future.",
      "parentUuid": "ba7be1f8_a8f870c5",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_03c4fd3e",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 147
      },
      "writtenOn": "2017-12-07T20:27:26Z",
      "side": 1,
      "message": "I agree with Martin, we would really like to delete overcloud_containers.yaml, and have only kept it this long because ansible-role-rdo-kolla-build still depends on it until this change lands\n\n  https://review.rdoproject.org/r/#/c/9328",
      "parentUuid": "ba7be1f8_e848a8ce",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_3474d59b",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 147
      },
      "writtenOn": "2017-12-12T04:05:21Z",
      "side": 1,
      "message": "Can I suggest we get something like this landed[1] so that the following can be run here to generate a list of all images:\n\n  openstack overcloud container image prepare --set neutron_driver\u003dall ...\n\n[1] https://review.openstack.org/#/c/527297/",
      "parentUuid": "ba7be1f8_03c4fd3e",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_54a069f4",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 155
      },
      "writtenOn": "2017-12-12T07:31:48Z",
      "side": 1,
      "message": "That would solve neutron_driver issue, but what is with all other conditions we may have? Is there possibility to have like \"--all-containers\"??",
      "parentUuid": "ba7be1f8_3474d59b",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_a381714c",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-12-07T16:01:58Z",
      "side": 1,
      "message": "not sure this extra test is needed, if the image is in the list but it\u0027s not there the next tasks will fail, maybe not so explicitly, but it will add considerable more time to check every image here. And all the logs from this finish inevitably into the promoter outout as an unreadable single blob of ansible output",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba7be1f8_432c354b",
        "filename": "ci-scripts/container-push/container-push.yml",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 155
      },
      "writtenOn": "2017-12-07T17:25:25Z",
      "side": 1,
      "message": "Look at \"tacker\" example. There are built \"tacker-base\" and other \"tacker-*\" images, but not \"tacker\". And we still have it in configuration, which is not up to date. So it will fail to push \"tacker\" and will fail the job, that\u0027s why I test it here.",
      "parentUuid": "ba7be1f8_a381714c",
      "revId": "95253b8f9af323190fbf2b41825e15532b618787",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}