{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96a0b0b5_6540ebbc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-26T06:47:07Z",
      "side": 1,
      "message": "Thanks for this patch, Dariusz! Added a couple of comments and vorted \u0027-1\u0027 simply to mark as needs more discussion/work.",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad5cbef7_9e6f6e52",
        "filename": "ci-scripts/infra-setup/roles/configure_users/defaults/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-26T06:47:07Z",
      "side": 1,
      "message": "Users and their configuration belongs into Ansible inventories, not role defaults. Since these SSH keys are for multiple systems, group_vars would be a good place.\n\nBut for that we would first need to rework the inventory, which is worth a separate patch. So for this patch i would put the variables back to ci-scripts/infra-setup/tenant_vars/common.yml",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72ff1731_de7b231e",
        "filename": "ci-scripts/infra-setup/roles/configure_users/defaults/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-11-02T16:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad5cbef7_9e6f6e52",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6541765b_69dfb9e6",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 2,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-26T06:47:07Z",
      "side": 1,
      "message": "Why not run the whole role with \u0027become: yes\u0027 or even the whole play?",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad8aaa2f_e19e25f5",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 2,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-11-02T16:20:23Z",
      "side": 1,
      "message": "I\u0027m trying to keep level of responsibility locally. It means, that the role itself needs to be authenticated as \"root\". Playbook does not need to know about that.",
      "parentUuid": "6541765b_69dfb9e6",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbc16d67_72e9637b",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 2,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-11-07T19:35:07Z",
      "side": 1,
      "message": "All roles need root permissions so you would copy that everywhere?!?",
      "parentUuid": "ad8aaa2f_e19e25f5",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2183876b_6757f6d4",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-26T06:47:07Z",
      "side": 1,
      "message": "password_lock is missing from old code.",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1125db67_0cb88a2c",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-11-02T16:20:23Z",
      "side": 1,
      "message": "It\u0027s missing, because it\u0027s not being used.\nI added it back, due to *just* moving the code around, but in the future I\u0027m planning to remove it completely.",
      "parentUuid": "2183876b_6757f6d4",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72e6b63a_8b5a8334",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-11-07T19:35:07Z",
      "side": 1,
      "message": "Good catch! We should use it though [1] but apparently I forgot to add it to users variable [2] so here it is [3].\n\n[1] https://unix.stackexchange.com/a/7758/188542\n[2] https://github.com/rdo-infra/ci-config/blob/eff9e102db20ac54c60cb2752235275a77a84f2b/ci-scripts/infra-setup/tenant_vars/common.yml#L27\n[3] https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/46000",
      "parentUuid": "1125db67_0cb88a2c",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "076a2122_0ce4470a",
        "filename": "ci-scripts/infra-setup/roles/keypairs/defaults/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-26T06:47:07Z",
      "side": 1,
      "message": "Adding role defaults as symlinks is confusing and thus dangerous because people might miss this when applying changes to configure_users later. Please change.",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4d2a50c_4d87592f",
        "filename": "ci-scripts/infra-setup/roles/keypairs/defaults/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-11-02T16:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "076a2122_0ce4470a",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e81480e7_ad5bf768",
        "filename": "ci-scripts/infra-setup/roles/keypairs/defaults/main.yml",
        "patchSetId": 7
      },
      "lineNbr": 1,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-11-07T19:35:07Z",
      "side": 1,
      "message": "Thanks for moving user config back to inventory. Could you please remove the symlink and the empty configure_users/defaults/main.yml?",
      "parentUuid": "d4d2a50c_4d87592f",
      "revId": "ae8850125cd717e336f9080249b6a2e66649b0c2",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}