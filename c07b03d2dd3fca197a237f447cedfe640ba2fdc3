{
  "comments": [
    {
      "key": {
        "uuid": "dfa05e04_0d640ab9",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 177,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-06-18T07:52:19Z",
      "side": 1,
      "message": "is the self.rollback_links.items() evaluated just once at the start of the for loop or on each iteration?\n\nif its the latter then this will only work for the first item",
      "range": {
        "startLine": 177,
        "startChar": 12,
        "endLine": 177,
        "endChar": 16
      },
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c1decd3_e19ca8e3",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 177,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-06-18T09:10:06Z",
      "side": 1,
      "message": "the self.rollback_links captures the status of the link just before attempting a promotion. It doesn\u0027t change at all after. If something fail during promotion, that\u0027s the status I have to rollback to. There is no other status.\nEvery call to rollback, reverts to that same status.",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faf5d545_a7a0af7c",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 214,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-06-18T07:52:19Z",
      "side": 1,
      "message": "why no rollback()",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "559ed4f7_a577b9bf",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 214,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-06-18T09:10:06Z",
      "side": 1,
      "message": "Because this is the first \"potentially distruptive\" statement. If the remove fails here, there is really nothing to rollback, the initial status would not have changed at all.",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5bf585c8_9115c5a8",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 223,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-06-18T07:52:19Z",
      "side": 1,
      "message": "well, you can\u0027t read it but it doesn\u0027t prove it doesn\u0027t exist :D\n\n\u0027failed to get previous-link %s\u0027",
      "range": {
        "startLine": 223,
        "startChar": 57,
        "endLine": 223,
        "endChar": 63
      },
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eafac082_fa094486",
        "filename": "ci-scripts/dlrnapi_promoter/qcow_client.py",
        "patchSetId": 9
      },
      "lineNbr": 223,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-06-18T09:10:06Z",
      "side": 1,
      "message": "links generally have mode 777, so it\u0027s highly unlikely that I would get a permission error on reading a link.",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec64ab98_7a95614a",
        "filename": "ci-scripts/dlrnapi_promoter/test_promoter_functional.py",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 192
      },
      "writtenOn": "2020-06-18T07:52:19Z",
      "side": 1,
      "message": "http://vignette1.wikia.nocookie.net/flylikeabird3/images/0/0c/Mexican_troll_face_by_mariodude12312-d5mtl9z.png/revision/latest?cb\u003d20130905205853\n\nso will you be adding some tests for the new rollback feature you decided to add ?",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c6af2e6_5625fdc3",
        "filename": "ci-scripts/dlrnapi_promoter/test_promoter_functional.py",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 63
      },
      "writtenOn": "2020-06-18T09:10:06Z",
      "side": 1,
      "message": "I said I would try to assemble something to show you, not that it would be in the final release. Given it doesn\u0027t seem to provide much protection, I was considering giving you a tech preview, then postpone the implementation to v2. But if you really insist, I have time to test this until Sorin reviews these changes too ...",
      "revId": "c07b03d2dd3fca197a237f447cedfe640ba2fdc3",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}