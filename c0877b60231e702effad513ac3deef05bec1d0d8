{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8a730cb8_f28184d4",
        "filename": "ci-scripts/infra-setup/roles/configure_users/defaults/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 15,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-10-17T07:06:13Z",
      "side": 1,
      "message": "do we have to carry these? why not just remove altogether?",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 15,
        "endChar": 1
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf5f8d9d_f316c8f3",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 192
      },
      "writtenOn": "2022-10-17T07:06:13Z",
      "side": 1,
      "message": "why are we doing this? lets just remove old users from the defaults/main?\n\n[EDIT]: OK may want to keep this anyway for when we update the config (i.e. defaults/main) in future?",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae004fd5_3c2317ec",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-10-17T14:48:55Z",
      "side": 1,
      "message": "I think we should be able to remove them now. In the past, these users had to be left, because ansible wouldn\u0027t know that they need to be purged.\n@jm1 what do you think?",
      "parentUuid": "cf5f8d9d_f316c8f3",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a02111c6_42321aa9",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-17T18:22:40Z",
      "side": 1,
      "message": "Ansible does not touch what it does not know. So removing a user from our inventory will not disable or remove that user. Instead, we would have to update our inventory which defines a user as absent, then wait for the playbook to run (and delete the user) and finally submit a patch to drop the user from the inventory.\n\nThat is a awful lot of steps to achieve the goal of disallowing a user to login and offers plenty of opportunities to mess up. \n\nInstead we decided to expire a user. The user is still listed in the playbooks and be present on systems but wont be able to login.\n\nI am open to other solutions but please do not misuse \u0027expires\u0027 for that.",
      "parentUuid": "ae004fd5_3c2317ec",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "088b88a6_c244efc4",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-10-17T19:16:43Z",
      "side": 1,
      "message": "@Jakob, are you saying I should not use `expires` as a way to deleting users?",
      "parentUuid": "a02111c6_42321aa9",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2bd7b22e_257bbbcb",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-10-17T19:30:35Z",
      "side": 1,
      "message": "Yes, using \u0027expires\u0027 to delete is confusing and error prone. For example, why delete only users with expires \u003d\u003d 1? Why not 0 or anything lower than seconds-till-now?\n\nThe other point is that deleting users is not straight forward in Ansible. A deletion mechanism that relies on manual user intervention is very susceptible to user errors, which is why we did not implement a simple \u0027state: absent\u0027 in the past.",
      "parentUuid": "088b88a6_c244efc4",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d46dacc8_dc920aa5",
        "filename": "ci-scripts/infra-setup/roles/configure_users/tasks/main.yml",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-10-18T20:13:18Z",
      "side": 1,
      "message": "Reverted back to just \"expires\". Thanks.",
      "parentUuid": "2bd7b22e_257bbbcb",
      "range": {
        "startLine": 8,
        "startChar": 6,
        "endLine": 8,
        "endChar": 24
      },
      "revId": "c0877b60231e702effad513ac3deef05bec1d0d8",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}