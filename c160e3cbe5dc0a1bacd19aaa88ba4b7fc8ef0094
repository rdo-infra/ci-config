{
  "comments": [
    {
      "key": {
        "uuid": "fa81d914_dfed4e8d",
        "filename": "ci-scripts/promoter-setup/logrotate-promoter.pp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 163
      },
      "writtenOn": "2017-10-24T10:05:53Z",
      "side": 1,
      "message": "Is this a compiled selinux policy? I can\u0027t really check this way what\u0027s in there, or if we need to modify it later, there\u0027s no way to do it.\n\nI\u0027d rather prefer if the source for the policy could be added and compiled when we setup the the system.\n\nAlternatively we could (in order of how simple and/or invasive they are)\n\n1) use https://docs.python.org/2/library/logging.handlers.html#rotatingfilehandler with some arbitrary file size and retention limit\n\n2) place the log in the proper folder that logrotate can access and expose that with apache\n\n3) current solution of adding a policy exception but with source included -- mostly the added complexity for compiling it is why it scores low for me in this list\n\n...\n\n10) disable selinux :)",
      "revId": "c160e3cbe5dc0a1bacd19aaa88ba4b7fc8ef0094",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa81d914_1f7446ce",
        "filename": "ci-scripts/promoter-setup/logrotate-promoter.pp",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 63
      },
      "writtenOn": "2017-10-24T10:45:30Z",
      "side": 1,
      "message": "1) using rotatefile requires guessing which file size is right to have a sufficient history. I\u0027d prefer to use the timed rotation, but anyway doesn\u0027t support compression. Also, since the file is actively rotated, it\u0027s perfectly normal that a promotion run may be split into two files, and you\u0027ll have to look at both\n2) then we\u0027ll have to modify httpd setup too\n3) compiling is a two commands.\n10) look, a spider, pass me the flamethrower!",
      "revId": "c160e3cbe5dc0a1bacd19aaa88ba4b7fc8ef0094",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}