import mock

from dlrnapi_trigger import check_trigger_condition

api_promotions_get = [{'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'promote_name': 'tripleo-ci-testing',
 'repo_hash': '49998bd3356842923fef5029443ecae6b2555535_29701044',
 'repo_url': 'https://trunk.rdoproject.org/centos7/49/99/49998bd3356842923fef5029443ecae6b2555535_29701044',
 'timestamp': 1551417073,
 'user': 'review_rdoproject_org'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'promote_name': 'tripleo-ci-testing',
 'repo_hash': '49998bd3356842923fef5029443ecae6b2555535_29701044',
 'repo_url': 'https://trunk.rdoproject.org/centos7/49/99/49998bd3356842923fef5029443ecae6b2555535_29701044',
 'timestamp': 1551391879,
 'user': 'review_rdoproject_org'}, {'commit_hash': 'e33841879c959b60f97bf22d936741961b7a0bcf',
 'distro_hash': '94dc48e51e21d255e92c1e1c8202b985ad3b1589',
 'promote_name': 'tripleo-ci-testing',
 'repo_hash': 'e33841879c959b60f97bf22d936741961b7a0bcf_94dc48e5',
 'repo_url': 'https://trunk.rdoproject.org/centos7/e3/38/e33841879c959b60f97bf22d936741961b7a0bcf_94dc48e5',
 'timestamp': 1551345174,
 'user': 'review_rdoproject_org'}]


api_repo_status_get = [{'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'consistent',
 'notes': '',
 'success': True,
 'timestamp': 1551382574,
 'url': ''}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-singlenode-featureset050',
 'notes': '',
 'success': True,
 'timestamp': 1551400775,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master/12ec81e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master',
 'notes': '',
 'success': True,
 'timestamp': 1551400780,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master/12ec81e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551401164,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario003-standalone-master/c5e7822'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario003-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401169,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario003-standalone-master/c5e7822'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset099',
 'notes': '',
 'success': True,
 'timestamp': 1551401227,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master/1d4b100'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401231,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master/1d4b100'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551401309,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario001-standalone-master/31f28ce'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario001-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401315,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario001-standalone-master/31f28ce'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-singlenode-featureset027',
 'notes': '',
 'success': True,
 'timestamp': 1551401536,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset027-master/4ad7ea8'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-singlenode-featureset027-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401541,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset027-master/4ad7ea8'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551401658,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario002-standalone-master/5b9bf7c'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario002-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401663,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario002-standalone-master/5b9bf7c'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551401943,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario004-standalone-master/59f7c6a'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario004-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551401948,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario004-standalone-master/59f7c6a'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551402287,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-standalone-master/f602da3'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551402292,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-standalone-master/f602da3'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset002',
 'notes': '',
 'success': False,
 'timestamp': 1551402845,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload/8692436'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload',
 'notes': '',
 'success': False,
 'timestamp': 1551402850,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload/8692436'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset010',
 'notes': '',
 'success': True,
 'timestamp': 1551402885,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master/e35b4b9'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master',
 'notes': '',
 'success': True,
 'timestamp': 1551402890,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master/e35b4b9'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset020',
 'notes': '',
 'success': False,
 'timestamp': 1551402958,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master/bb84dda'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master',
 'notes': '',
 'success': False,
 'timestamp': 1551402963,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master/bb84dda'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp-featureset035',
 'notes': '',
 'success': False,
 'timestamp': 1551402974,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master/d6d092d'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master',
 'notes': '',
 'success': False,
 'timestamp': 1551402979,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master/d6d092d'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset037',
 'notes': '',
 'success': True,
 'timestamp': 1551403461,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master/6fc6355'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master',
 'notes': '',
 'success': True,
 'timestamp': 1551403466,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master/6fc6355'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset030',
 'notes': '',
 'success': True,
 'timestamp': 1551403479,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master/0b8af26'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master',
 'notes': '',
 'success': True,
 'timestamp': 1551403485,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master/0b8af26'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset021',
 'notes': '',
 'success': False,
 'timestamp': 1551403809,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master/15e724f'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master',
 'notes': '',
 'success': False,
 'timestamp': 1551403815,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master/15e724f'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp-featureset001',
 'notes': '',
 'success': False,
 'timestamp': 1551403972,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master/7bcad2a'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master',
 'notes': '',
 'success': False,
 'timestamp': 1551403977,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master/7bcad2a'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp_1supp-featureset039',
 'notes': '',
 'success': False,
 'timestamp': 1551404092,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master/c74ecf1'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master',
 'notes': '',
 'success': False,
 'timestamp': 1551404097,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master/c74ecf1'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-singlenode-featureset050',
 'notes': '',
 'success': True,
 'timestamp': 1551425804,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master/c3e4155'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master',
 'notes': '',
 'success': True,
 'timestamp': 1551425809,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset050-upgrades-master/c3e4155'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset099',
 'notes': '',
 'success': True,
 'timestamp': 1551425946,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master/5a2ab5e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551425950,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master/5a2ab5e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551426405,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario003-standalone-master/680f47c'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario003-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551426410,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario003-standalone-master/680f47c'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551426696,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario004-standalone-master/7b014ad'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario004-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551426701,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario004-standalone-master/7b014ad'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-singlenode-featureset027',
 'notes': '',
 'success': True,
 'timestamp': 1551426896,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset027-master/1198ef4'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-singlenode-featureset027-master',
 'notes': '',
 'success': True,
 'timestamp': 1551426902,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-singlenode-featureset027-master/1198ef4'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551427016,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario002-standalone-master/5239319'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario002-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551427022,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario002-standalone-master/5239319'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551427154,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario001-standalone-master/5cc02a3'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-scenario001-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551427160,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-scenario001-standalone-master/5cc02a3'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-standalone-featureset052',
 'notes': '',
 'success': True,
 'timestamp': 1551427274,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-standalone-master/ff83a9d'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-standalone-master',
 'notes': '',
 'success': True,
 'timestamp': 1551427279,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-standalone-master/ff83a9d'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset002',
 'notes': '',
 'success': False,
 'timestamp': 1551427454,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload/7f44ddf'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload',
 'notes': '',
 'success': False,
 'timestamp': 1551427459,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset002-master-upload/7f44ddf'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset010',
 'notes': '',
 'success': True,
 'timestamp': 1551427533,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master/d38ad58'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master',
 'notes': '',
 'success': True,
 'timestamp': 1551427539,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset010-master/d38ad58'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset021',
 'notes': '',
 'success': False,
 'timestamp': 1551427581,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master/5b780c4'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master',
 'notes': '',
 'success': False,
 'timestamp': 1551427586,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset021-master/5b780c4'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp-featureset035',
 'notes': '',
 'success': False,
 'timestamp': 1551427628,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master/a107cc8'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master',
 'notes': '',
 'success': False,
 'timestamp': 1551427634,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset035-master/a107cc8'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp-featureset001',
 'notes': '',
 'success': False,
 'timestamp': 1551427659,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master/094782f'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master',
 'notes': '',
 'success': False,
 'timestamp': 1551427665,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset001-master/094782f'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset037',
 'notes': '',
 'success': True,
 'timestamp': 1551428005,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master/d0111fd'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master',
 'notes': '',
 'success': True,
 'timestamp': 1551428010,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master/d0111fd'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-1ctlr_1comp-featureset020',
 'notes': '',
 'success': False,
 'timestamp': 1551428155,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master/319ed13'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master',
 'notes': '',
 'success': False,
 'timestamp': 1551428161,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-1ctlr_1comp-featureset020-master/319ed13'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-multinode-1ctlr-featureset030',
 'notes': '',
 'success': True,
 'timestamp': 1551428398,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master/8ed900e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master',
 'notes': '',
 'success': True,
 'timestamp': 1551428403,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset030-master/8ed900e'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-ovb-3ctlr_1comp_1supp-featureset039',
 'notes': '',
 'success': False,
 'timestamp': 1551428534,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master/2791714'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master',
 'notes': '',
 'success': False,
 'timestamp': 1551428540,
 'url': 'https://logs.rdoproject.org/openstack-periodic/git.openstack.org/openstack-infra/tripleo-ci/master/periodic-tripleo-ci-centos-7-ovb-3ctlr_1comp_1supp-featureset039-master/2791714'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-baremetal-featureset666',
 'notes': '',
 'success': True,
 'timestamp': 1551437024,
 'url': 'https://logs.rdoproject.org/27/164127/11/check/hello-dlrn/4291a4b'}, {'commit_hash': '49998bd3356842923fef5029443ecae6b2555535',
 'distro_hash': '2970104410bf047570f50b218d828c73f95f27d3',
 'in_progress': False,
 'job_id': 'periodic-tripleo-centos-7-master-containers-build',
 'notes': '',
 'success': True,
 'timestamp': 1551437024,
 'url': 'https://logs.rdoproject.org/27/164127/11/check/hello-dlrn/4291a4b'}]

@mock.patch('dlrnapi_client.apis.default_api.DefaultApi')
def test_foo(dlrn_mock):
    dlrn_mock.api_promotions_get.return_value = api_promotions_get
    dlrn_mock.api_repo_status_get.return_value = api_repo_status_get
    promotion_name = 'tripleo-ci-testing'
    wait_job_name = 'periodic-tripleo-centos-7-master-containers-build'
    launch_job_name = 'test-connection-to-hardware'
    assert(check_trigger_condition(dlrn_mock, promotion_name, wait_job_name, launch_job_name))
