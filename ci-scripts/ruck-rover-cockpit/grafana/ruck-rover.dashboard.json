{"meta":{"type":"db","canSave":true,"canEdit":true,"canAdmin":true,"canStar":true,"slug":"ruck-rover","url":"/d/pgdr_WVmk/ruck-rover","expires":"0001-01-01T00:00:00Z","created":"2018-05-21T10:06:21Z","updated":"2018-05-24T10:18:53Z","updatedBy":"admin","createdBy":"admin","version":67,"hasAcl":false,"isFolder":false,"folderId":0,"folderTitle":"General","folderUrl":"","provisioned":false},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":1,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":8,"panels":[],"title":"Zuul","type":"row"},{"content":"To look for issue check [sova gate jobs](http://cistatus.tripleo.org/gate/) and [upstream zuul](http://zuul.opentsack.org)","gridPos":{"h":2,"w":22,"x":0,"y":1},"id":27,"links":[],"mode":"markdown","title":"Upstream job status","type":"text"},{"alert":{"conditions":[{"evaluator":{"params":[360],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","frequency":"60s","handler":1,"message":"Upstream tripleo gate queue is older than 6 hours, check the jobs there http://zuul.openstack.org/.","name":"Upstream tripleo gate queue alert","noDataState":"no_data","notifications":[]},"aliasColors":{},"bars":true,"dashLength":10,"dashes":false,"datasource":"telegraf","fill":1,"gridPos":{"h":5,"w":4,"x":0,"y":3},"id":23,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":false,"linewidth":3,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"tripleo gate","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","query":"SELECT \"enqueued_time\" FROM \"zuul-queue-status\" WHERE (\"pipeline\" = 'gate' AND \"queue\" = 'tripleo') AND $timeFilter","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["enqueued_time"],"type":"field"},{"params":[],"type":"max"}]],"tags":[{"key":"pipeline","operator":"=","value":"gate"},{"condition":"AND","key":"queue","operator":"=","value":"tripleo"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":360}],"timeFrom":"20s","timeShift":null,"title":"Upstream","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":360,"mode":"series","name":null,"show":true,"values":["current"]},"yaxes":[{"decimals":0,"format":"m","label":"max enqueued time","logBase":1,"max":"400","min":"0","show":true},{"decimals":0,"format":"short","label":"result code( -1: failure, 0: ongoing, 1: success)","logBase":1,"max":"1","min":"-1","show":false}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"conditions":[{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"or"},"query":{"params":["C","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","frequency":"60s","handler":1,"message":"Upstream tripleo gate jobs are failing, check them at sova: http://cistatus.tripleo.org/gates/, and also at zuul: zuul.openstack.org","name":"Openstack zuul's result alarms alert","noDataState":"no_data","notifications":[]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"telegraf","fill":1,"gridPos":{"h":5,"w":4,"x":4,"y":3},"id":15,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":false,"linewidth":3,"links":[],"nullPointMode":"null","percentage":false,"pointradius":10,"points":true,"renderer":"flot","seriesOverrides":[{"alias":"Min result code","bars":false,"pointradius":5,"points":true,"yaxis":2}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"Tripleo gate","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["result_code"],"type":"field"},{"params":[],"type":"min"}]],"tags":[{"key":"pipeline","operator":"=","value":"gate"},{"condition":"AND","key":"queue","operator":"=","value":"tripleo"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0}],"timeFrom":"20s","timeShift":null,"title":"Upstream","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":360,"mode":"series","name":null,"show":true,"values":["current"]},"yaxes":[{"decimals":0,"format":"short","label":"min result code","logBase":1,"max":"1","min":"-1","show":true},{"decimals":0,"format":"short","label":"result code( -1: failure, 0: ongoing, 1: success)","logBase":1,"max":"1","min":"-1","show":false}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":5,"w":14,"x":8,"y":3},"id":20,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":3,"desc":false},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"date"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"enqueued_time","thresholds":[],"type":"number","unit":"m"}],"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","query":"SELECT \"refspec\", \"job\", \"result\", \"enqueued_time\" FROM \"zuul-queue-status\" WHERE \"pipeline\" = 'gate' AND \"queue\" = 'tripleo' AND $timeFilter AND result_code = -1","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["enqueued_time"],"type":"field"}]],"tags":[{"key":"pipeline","operator":"=","value":"gate"},{"condition":"AND","key":"queue","operator":"=","value":"tripleo"}]}],"timeFrom":"20s","title":"Upstream tripleo gate failures","transform":"table","type":"table"},{"content":"To look for issue check [sova promotion jobs](http://cistatus.tripleo.org/promotion/) and [RDO zuul](http://review.rdoproject.org/zuul)","gridPos":{"h":2,"w":22,"x":0,"y":8},"id":28,"links":[],"mode":"markdown","title":"RDO job status","type":"text"},{"alert":{"conditions":[{"evaluator":{"params":[360],"type":"gt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","frequency":"60s","handler":1,"message":"RDO openstack-check pipeline has jobs that are older than 6 hours, check the jobs https://review.rdoproject.org/zuul/.","name":"RDO alert","noDataState":"no_data","notifications":[]},"aliasColors":{},"bars":true,"dashLength":10,"dashes":false,"datasource":"telegraf","fill":1,"gridPos":{"h":5,"w":4,"x":0,"y":10},"id":24,"legend":{"avg":false,"current":false,"max":false,"min":false,"show":false,"total":false,"values":false},"lines":false,"linewidth":3,"links":[],"nullPointMode":"null","percentage":false,"pointradius":5,"points":false,"renderer":"flot","seriesOverrides":[],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"openstack-check","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","query":"SELECT \"enqueued_time\" FROM \"zuul-queue-status\" WHERE (\"pipeline\" = 'gate' AND \"queue\" = 'tripleo') AND $timeFilter","rawQuery":false,"refId":"A","resultFormat":"time_series","select":[[{"params":["enqueued_time"],"type":"field"},{"params":[],"type":"max"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"gt","value":360}],"timeFrom":"20s","timeShift":null,"title":"RDO","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":360,"mode":"series","name":null,"show":true,"values":["current"]},"yaxes":[{"decimals":0,"format":"m","label":"max enqueued time","logBase":1,"max":"400","min":"0","show":true},{"decimals":0,"format":"short","label":"result code( -1: failure, 0: ongoing, 1: success)","logBase":1,"max":"1","min":"-1","show":false}],"yaxis":{"align":false,"alignLevel":null}},{"alert":{"conditions":[{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"and"},"query":{"params":["A","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"},{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"or"},"query":{"params":["B","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"},{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"or"},"query":{"params":["C","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"},{"evaluator":{"params":[0],"type":"lt"},"operator":{"type":"or"},"query":{"params":["D","5m","now"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"executionErrorState":"alerting","frequency":"60s","handler":1,"message":"RDO openstack-check pipeline is failing a noop changes, check them at sova: http://cistatus.tripleo.org/promotion/, and also at zuul:  http://review.rdoproject.org/zuul","name":"RDO alert","noDataState":"no_data","notifications":[]},"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"telegraf","fill":1,"gridPos":{"h":5,"w":6,"x":4,"y":10},"id":25,"legend":{"alignAsTable":true,"avg":false,"current":false,"max":false,"min":false,"rightSide":true,"show":true,"total":false,"values":false},"lines":false,"linewidth":3,"links":[],"nullPointMode":"null","percentage":false,"pointradius":10,"points":true,"renderer":"flot","seriesOverrides":[{"alias":"Min result code","bars":false,"pointradius":5,"points":true,"yaxis":2}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"alias":"openstack-check (560445)","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","refId":"C","resultFormat":"time_series","select":[[{"params":["result_code"],"type":"field"},{"params":[],"type":"min"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"},{"condition":"AND","key":"review","operator":"=","value":"560445"}]},{"alias":"openstack-check (567224)","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","refId":"A","resultFormat":"time_series","select":[[{"params":["result_code"],"type":"field"},{"params":[],"type":"min"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"},{"condition":"AND","key":"review","operator":"=","value":"567224"}]},{"alias":"openstack-check (564285)","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","refId":"B","resultFormat":"time_series","select":[[{"params":["result_code"],"type":"field"},{"params":[],"type":"min"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"},{"condition":"AND","key":"review","operator":"=","value":"564285"}]},{"alias":"openstack-check (564291)","groupBy":[],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","refId":"D","resultFormat":"time_series","select":[[{"params":["result_code"],"type":"field"},{"params":[],"type":"min"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"},{"condition":"AND","key":"review","operator":"=","value":"564291"}]}],"thresholds":[{"colorMode":"critical","fill":true,"line":true,"op":"lt","value":0}],"timeFrom":"20s","timeShift":null,"title":"RDO","tooltip":{"shared":false,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":360,"mode":"series","name":null,"show":false,"values":["current"]},"yaxes":[{"decimals":0,"format":"short","label":"min result code","logBase":1,"max":"1","min":"-1","show":true},{"decimals":0,"format":"short","label":"result code( -1: failure, 0: ongoing, 1: success)","logBase":1,"max":"1","min":"-1","show":false}],"yaxis":{"align":false,"alignLevel":null}},{"columns":[],"datasource":null,"fontSize":"100%","gridPos":{"h":5,"w":12,"x":10,"y":10},"id":22,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":4,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"date"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"enqueued_time","thresholds":[],"type":"number","unit":"m"}],"targets":[{"groupBy":[{"params":["$__interval"],"type":"time"}],"measurement":"zuul-queue-status","orderByTime":"ASC","policy":"default","query":"SELECT \"job\", \"review\", \"patch_set\", \"result\" FROM \"zuul-queue-status\" WHERE result_code=-1 AND \"pipeline\" = 'openstack-check' AND \"url\" = 'https://review.rdoproject.org/zuul/status.json' AND $timeFilter AND (\"review\"='560445' OR \"review\"='567224' OR \"review\"='564285 ' OR \"review\"='564291' )","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["result_code"],"type":"field"}]],"tags":[{"key":"pipeline","operator":"=","value":"openstack-check"},{"condition":"AND","key":"url","operator":"=","value":"https://review.rdoproject.org/zuul/status.json"}]}],"timeFrom":"20s","title":"RDO openstack-check noop failures","transform":"table","type":"table"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":15},"id":4,"panels":[],"title":"Issues","type":"row"},{"columns":[],"datasource":"telegraf","fontSize":"100%","gridPos":{"h":9,"w":12,"x":0,"y":16},"id":6,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"date"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"dateFormat":"YYYY-MM-DD HH:mm:ss","decimals":2,"link":true,"linkTargetBlank":true,"linkUrl":"${__cell}","mappingType":1,"pattern":"link","thresholds":[],"type":"number","unit":"short"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"groupBy":[],"measurement":"urgent-bugs","orderByTime":"ASC","policy":"default","query":"SELECT \"title\", \"status\", \"link\" FROM \"urgent-bugs\" WHERE $timeFilter","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["title"],"type":"field"}],[{"params":["status"],"type":"field"}],[{"params":["link"],"type":"field"}]],"tags":[]}],"timeFrom":"20s","title":"Urgent bugs","transform":"table","type":"table"},{"columns":[],"datasource":"telegraf","fontSize":"100%","gridPos":{"h":9,"w":10,"x":12,"y":16},"id":2,"links":[],"pageSize":null,"scroll":true,"showHeader":true,"sort":{"col":0,"desc":true},"styles":[{"alias":"Time","dateFormat":"YYYY-MM-DD HH:mm:ss","pattern":"Time","type":"date"},{"alias":"","colorMode":null,"colors":["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"decimals":2,"pattern":"/.*/","thresholds":[],"type":"number","unit":"short"}],"targets":[{"groupBy":[],"measurement":"openstack-infra-issues","orderByTime":"ASC","policy":"default","query":"SELECT \"issue\" FROM \"openstack-infra-issues\"","rawQuery":true,"refId":"A","resultFormat":"table","select":[[{"params":["issue"],"type":"field"}]],"tags":[]}],"title":"Openstack infra issues","transform":"table","type":"table"}],"refresh":false,"schemaVersion":16,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-6d","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"","title":"Ruck Rover","uid":"pgdr_WVmk","version":67}}