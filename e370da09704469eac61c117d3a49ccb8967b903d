{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f6f7ce88_3417c92b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-08-29T18:13:23Z",
      "side": 1,
      "message": "Hey Jakob.\nIn the commit message you\u0027re mentioning that vexxhost uses 1450 mtu, but in the config for docker, you\u0027re defining 1500.\nCan you explain a bit more why is it like that? Shouldn\u0027t it be 1450 across the board?",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0e14d7d_8d1abedd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-08-29T19:06:55Z",
      "side": 1,
      "message": "1500 is the default, but it is overwritten in particular for rrcockpit on vexxhost. On incockpit (downstream cockpit) it should be 1500 because that vm is bridged to a physical network. for other hosts such as promoter and toolbox i am not changing it because they are not using docker and i do not want to change their ansible code (although it would be \"correct\") because their ansible code is probably not in sync with our playbooks anyway.\n\nThe hosts get the MTU for their network devices from OpenStack so there is no need to change their MTU manually. Only for docker this is required because docker does not look at network device mtu when creating bridges for docker networks.",
      "parentUuid": "f6f7ce88_3417c92b",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a3af3bd5_65cb14a5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 756
      },
      "writtenOn": "2022-08-29T19:28:14Z",
      "side": 1,
      "message": "OK, now I\u0027m seeing what you mean. Here [1] is defined `rrcockpit_mtu` which is later used as a baseline for a docker. Other servers don\u0027t have it, hence default 1500 is used.\nThanks.\n\n[1]: https://review.rdoproject.org/r/c/rdo-infra/ci-config/+/44679/3/ci-scripts/infra-setup/tenant_vars/common.yml#22",
      "parentUuid": "c0e14d7d_8d1abedd",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "281ca24f_0992d69c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 671
      },
      "writtenOn": "2022-08-30T05:36:53Z",
      "side": 1,
      "message": "Just a note that AKAIK Ananya was working on deploying downstream cockpit on Internal OpenStack env as well where mtu on instance\u0027s interfaces will be 1450 and we will need to define mtu for internal cockpit case also or maybe we can set the default mtu to 1450 in [1].\n\n\n[1] ci-scripts/infra-setup/roles/setup_docker_compose/defaults/main.yaml",
      "parentUuid": "a3af3bd5_65cb14a5",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "468205cc_42e1ce2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 111
      },
      "writtenOn": "2022-08-30T05:59:44Z",
      "side": 1,
      "message": "Thank you for updating it.",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "051a95a0_e8e05071",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 753
      },
      "writtenOn": "2022-08-30T08:49:52Z",
      "side": 1,
      "message": "For downstream cockpit, a lot more work in necessary due to the change to C8/C9 and its move to Podman. The changes here will only be a starting point for Ananya, but she will have to adapt them for Podman networks.\n\nRegarding what defaults to choose and where to define values: IMHO we should define MTU in Ansible role defaults as 1500 because this is the ethernet default. For OpenStack tenants we should define the default to 1450, but this is not possible without major changes to our code base because subdirectories in tenant_vars/ are not sourced by ansible-pull. This is why i were forced to put the indirection with lookup(\u0027vars\u0027,...) into tenant_vars/common.yml.",
      "parentUuid": "281ca24f_0992d69c",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "890c802a_a515748c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 671
      },
      "writtenOn": "2022-08-30T09:12:20Z",
      "side": 1,
      "message": "ack, make sense.",
      "parentUuid": "051a95a0_e8e05071",
      "revId": "e370da09704469eac61c117d3a49ccb8967b903d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}