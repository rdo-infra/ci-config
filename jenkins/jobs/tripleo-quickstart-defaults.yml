- defaults:
    name: 'tripleo-quickstart-defaults'
    description: |
        Managed by Jenkins Job Builder. Do not edit via web.
    concurrent: false
    node: 'rdo'
    logrotate:
        daysToKeep: 5
        artifactDaysToKeep: 5
    publishers:
        - tripleo-quickstart-cleanup
        - tripleo-quickstart-full-logs-link
    wrappers:
        - ansicolor
        - timestamps
        - workspace-cleanup
        - timeout:
            type: absolute
            timeout: 150
            fail: true
    properties:
        - ownership:
            owner: trown@redhat.com

- publisher:
    name: 'tripleo-quickstart-cleanup'
    publishers:
        - post-tasks:
            - matches:
                - log-text: Build was aborted
                  operator: AND
              escalate-status: false
              command: |
                bash $WORKSPACE/tripleo-quickstart/ci-scripts/return-node.sh

- publisher:
    name: 'tripleo-quickstart-full-logs-link'
    publishers:
        - archive:
            artifacts: '**/full_logs.html'
