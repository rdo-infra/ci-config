- trigger:
    name: 'weirdo-periodic-trigger'
    triggers:
      - timed: "H H * * *"

- trigger:
    name: 'weirdo-gate-trigger'
    triggers:
        - gerrit:
            server-name: 'rdo-ci-centos'
            trigger-on:
                - patchset-created-event
                - draft-published-event
                - comment-added-contains-event:
                    comment-contains-value:  '(?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck)'
            projects:
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/weirdo'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-ci-centos'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-common'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-kolla'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-packstack'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-puppet-openstack'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false
            failure-message: 'Test failed'
            successful-message: 'Test ran successfully'
            unstable-message: 'Test is unstable'
            silent: false
            silent-start: true

- trigger:
    name: 'weirdo-packstack-gate-integration-trigger'
    triggers:
        - gerrit:
            server-name: 'rdo-ci-centos'
            trigger-on:
                - patchset-created-event
                - draft-published-event
                - comment-added-contains-event:
                    comment-contains-value:  '(?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck)'
            projects:
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-packstack'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/weirdo'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                  file-paths:
                      - compare-type: 'REG_EXP'
                        pattern: '^playbooks/packstack-.*$'
                      - compare-type: 'REG_EXP'
                        pattern: '^requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^test-requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^tox.ini$'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-common'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-ci-centos'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false
            failure-message: 'Test failed'
            successful-message: 'Test ran successfully'
            unstable-message: 'Test is unstable'
            silent: false
            silent-start: true

- trigger:
    name: 'weirdo-puppet-openstack-gate-integration-trigger'
    triggers:
        - gerrit:
            server-name: 'rdo-ci-centos'
            trigger-on:
                - patchset-created-event
                - draft-published-event
                - comment-added-contains-event:
                    comment-contains-value:  '(?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck)'
            projects:
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-puppet-openstack'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/weirdo'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                  file-paths:
                      - compare-type: 'REG_EXP'
                        pattern: '^playbooks/puppet-openstack-.*$'
                      - compare-type: 'REG_EXP'
                        pattern: '^requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^test-requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^tox.ini$'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-common'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-ci-centos'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false
            failure-message: 'Test failed'
            successful-message: 'Test ran successfully'
            unstable-message: 'Test is unstable'
            silent: false
            silent-start: true

- trigger:
    name: 'weirdo-kolla-gate-integration-trigger'
    triggers:
        - gerrit:
            server-name: 'rdo-ci-centos'
            trigger-on:
                - patchset-created-event
                - draft-published-event
                - comment-added-contains-event:
                    comment-contains-value:  '(?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*(recheck)'
            projects:
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-kolla'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/weirdo'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                  file-paths:
                      - compare-type: 'REG_EXP'
                        pattern: '^playbooks/kolla-.*$'
                      - compare-type: 'REG_EXP'
                        pattern: '^requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^test-requirements.txt$'
                      - compare-type: 'REG_EXP'
                        pattern: '^tox.ini$'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-weirdo-common'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
                - project-compare-type: 'PLAIN'
                  project-pattern: 'redhat-openstack/ansible-role-ci-centos'
                  branches:
                      - branch-compare-type: 'PLAIN'
                        branch-pattern: 'master'
            skip-vote:
                successful: false
                failed: false
                unstable: false
                notbuilt: false
            failure-message: 'Test failed'
            successful-message: 'Test ran successfully'
            unstable-message: 'Test is unstable'
            silent: false
            silent-start: true
