---
- job:
    name: tripleo-ci-promotion-staging
    parent: base
    ansible-version: 2.8
    run: playbooks/staging.yml
    post-run: playbooks/staging-post.yml
    host-vars:
      primary:
        ansible_user: root
    voting: false

- job:
    name: testing1
    parent: tripleo-ci-promotion-staging
- job:
    name: testing2
    parent: tripleo-ci-promotion-staging
- job:
    name: testing3
    parent: tripleo-ci-promotion-staging
- job:
    name: testing4
    parent: tripleo-ci-promotion-staging
- job:
    name: testing5
    parent: tripleo-ci-promotion-staging
- job:
    name: testing6
    parent: tripleo-ci-promotion-staging
- job:
    name: testing8
    parent: tripleo-ci-promotion-staging
- job:
    name: testing7
    parent: tripleo-ci-promotion-staging
# This job is needed until pytest-molecule accepts scenarios that use
# the delegated driver. After it's fixed, these scenarios will be handled
# by rdo-tox-molecule job directly
#
- job:
    name: molecule-container-push
    parent: base
    pre-run: playbooks/molecule-delegated-pre.yml
    run: playbooks/molecule-delegated.yml
    voting: false

- job:
    name: molecule-tripleo-common
    parent: base
    pre-run: playbooks/molecule-delegated-pre.yml
    run: playbooks/molecule-tripleo-common.yml
    voting: false

- job:
    name: molecule-delegated-promote-images
    parent: base
    pre-run: playbooks/molecule-delegated-promote-images-pre.yml
    run: playbooks/molecule-delegated-promote-images.yml
    voting: false
