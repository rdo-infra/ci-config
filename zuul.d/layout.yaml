---
- job:
    name: tox-jjb
    run: playbooks/tox-jjb-run.yml

- job:
    name: tox-py36-1
    parent: tox-py36

- job:
    name: tox-py36-2
    parent: tox-py36

- job:
    name: tox-py36-3
    parent: tox-py36

- job:
    name: tox-py36-4
    parent: tox-py36

- job:
    name: tox-py36-5
    parent: tox-py36

- project:
    check:
      jobs:
        - tox-py27: &py27
            pre-run: playbooks/pre-run-docker.yml
            post-run: playbooks/post-run.yml
            success-url: "tox/reports.html"
            failure-url: "tox/reports.html"
            voting: false
            files:
              - .*\.py
              - .*\.ini
              - ^ci-scripts/infra-.*/.*
              - ^molecule/.*
              - ^playbooks/.*
              - ^requirements.txt
              - ^setup.cfg
              - ^setup.py
              - ^test-requirements.txt
              - ^tox.ini
              - ^zuul.d/layout.yaml$
            nodeset: rdo-centos-7
            vars:
              tox_environment:
                PYTEST_REQPASS: 188
        - tox-py36: &py36
            pre-run: playbooks/pre-run-docker.yml
            post-run: playbooks/post-run.yml
            success-url: "tox/reports.html"
            failure-url: "tox/reports.html"
            voting: false
            files:
              - .*\.py
              - ^ci-scripts/infra-.*/.*
              - .*\.ini
              - ^molecule/.*
              - ^playbooks/.*
              - ^requirements.txt
              - ^setup.cfg
              - ^setup.py
              - ^test-requirements.txt
              - ^tox.ini
              - ^zuul.d/layout.yaml$
            vars:
              tox_environment:
                PYTEST_REQPASS: 188
        - tox-py36-1:
            <<: *py36
        - tox-py36-2:
            <<: *py36
        - tox-py36-3:
            <<: *py36
        - tox-py36-4:
            <<: *py36
        - tox-py36-5:
            <<: *py36
